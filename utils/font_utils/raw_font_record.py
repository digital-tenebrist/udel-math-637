#!/usr/bin/env python
#
import re

from dataclasses import dataclass
from dataclasses import fields

@dataclass
class RawFontRecord:
    family: str
    variant: str
    ascii_label: int
    strength: float
    italic: int
    orientation: float
    m_top: int
    m_left: int
    orig_h: int
    orig_w: int
    h: int
    w: int
    r0c0: int
    r0c1: int
    r0c2: int
    r0c3: int
    r0c4: int
    r0c5: int
    r0c6: int
    r0c7: int
    r0c8: int
    r0c9: int
    r0c10: int
    r0c11: int
    r0c12: int
    r0c13: int
    r0c14: int
    r0c15: int
    r0c16: int
    r0c17: int
    r0c18: int
    r0c19: int
    r1c0: int
    r1c1: int
    r1c2: int
    r1c3: int
    r1c4: int
    r1c5: int
    r1c6: int
    r1c7: int
    r1c8: int
    r1c9: int
    r1c10: int
    r1c11: int
    r1c12: int
    r1c13: int
    r1c14: int
    r1c15: int
    r1c16: int
    r1c17: int
    r1c18: int
    r1c19: int
    r2c0: int
    r2c1: int
    r2c2: int
    r2c3: int
    r2c4: int
    r2c5: int
    r2c6: int
    r2c7: int
    r2c8: int
    r2c9: int
    r2c10: int
    r2c11: int
    r2c12: int
    r2c13: int
    r2c14: int
    r2c15: int
    r2c16: int
    r2c17: int
    r2c18: int
    r2c19: int
    r3c0: int
    r3c1: int
    r3c2: int
    r3c3: int
    r3c4: int
    r3c5: int
    r3c6: int
    r3c7: int
    r3c8: int
    r3c9: int
    r3c10: int
    r3c11: int
    r3c12: int
    r3c13: int
    r3c14: int
    r3c15: int
    r3c16: int
    r3c17: int
    r3c18: int
    r3c19: int
    r4c0: int
    r4c1: int
    r4c2: int
    r4c3: int
    r4c4: int
    r4c5: int
    r4c6: int
    r4c7: int
    r4c8: int
    r4c9: int
    r4c10: int
    r4c11: int
    r4c12: int
    r4c13: int
    r4c14: int
    r4c15: int
    r4c16: int
    r4c17: int
    r4c18: int
    r4c19: int
    r5c0: int
    r5c1: int
    r5c2: int
    r5c3: int
    r5c4: int
    r5c5: int
    r5c6: int
    r5c7: int
    r5c8: int
    r5c9: int
    r5c10: int
    r5c11: int
    r5c12: int
    r5c13: int
    r5c14: int
    r5c15: int
    r5c16: int
    r5c17: int
    r5c18: int
    r5c19: int
    r6c0: int
    r6c1: int
    r6c2: int
    r6c3: int
    r6c4: int
    r6c5: int
    r6c6: int
    r6c7: int
    r6c8: int
    r6c9: int
    r6c10: int
    r6c11: int
    r6c12: int
    r6c13: int
    r6c14: int
    r6c15: int
    r6c16: int
    r6c17: int
    r6c18: int
    r6c19: int
    r7c0: int
    r7c1: int
    r7c2: int
    r7c3: int
    r7c4: int
    r7c5: int
    r7c6: int
    r7c7: int
    r7c8: int
    r7c9: int
    r7c10: int
    r7c11: int
    r7c12: int
    r7c13: int
    r7c14: int
    r7c15: int
    r7c16: int
    r7c17: int
    r7c18: int
    r7c19: int
    r8c0: int
    r8c1: int
    r8c2: int
    r8c3: int
    r8c4: int
    r8c5: int
    r8c6: int
    r8c7: int
    r8c8: int
    r8c9: int
    r8c10: int
    r8c11: int
    r8c12: int
    r8c13: int
    r8c14: int
    r8c15: int
    r8c16: int
    r8c17: int
    r8c18: int
    r8c19: int
    r9c0: int
    r9c1: int
    r9c2: int
    r9c3: int
    r9c4: int
    r9c5: int
    r9c6: int
    r9c7: int
    r9c8: int
    r9c9: int
    r9c10: int
    r9c11: int
    r9c12: int
    r9c13: int
    r9c14: int
    r9c15: int
    r9c16: int
    r9c17: int
    r9c18: int
    r9c19: int
    r10c0: int
    r10c1: int
    r10c2: int
    r10c3: int
    r10c4: int
    r10c5: int
    r10c6: int
    r10c7: int
    r10c8: int
    r10c9: int
    r10c10: int
    r10c11: int
    r10c12: int
    r10c13: int
    r10c14: int
    r10c15: int
    r10c16: int
    r10c17: int
    r10c18: int
    r10c19: int
    r11c0: int
    r11c1: int
    r11c2: int
    r11c3: int
    r11c4: int
    r11c5: int
    r11c6: int
    r11c7: int
    r11c8: int
    r11c9: int
    r11c10: int
    r11c11: int
    r11c12: int
    r11c13: int
    r11c14: int
    r11c15: int
    r11c16: int
    r11c17: int
    r11c18: int
    r11c19: int
    r12c0: int
    r12c1: int
    r12c2: int
    r12c3: int
    r12c4: int
    r12c5: int
    r12c6: int
    r12c7: int
    r12c8: int
    r12c9: int
    r12c10: int
    r12c11: int
    r12c12: int
    r12c13: int
    r12c14: int
    r12c15: int
    r12c16: int
    r12c17: int
    r12c18: int
    r12c19: int
    r13c0: int
    r13c1: int
    r13c2: int
    r13c3: int
    r13c4: int
    r13c5: int
    r13c6: int
    r13c7: int
    r13c8: int
    r13c9: int
    r13c10: int
    r13c11: int
    r13c12: int
    r13c13: int
    r13c14: int
    r13c15: int
    r13c16: int
    r13c17: int
    r13c18: int
    r13c19: int
    r14c0: int
    r14c1: int
    r14c2: int
    r14c3: int
    r14c4: int
    r14c5: int
    r14c6: int
    r14c7: int
    r14c8: int
    r14c9: int
    r14c10: int
    r14c11: int
    r14c12: int
    r14c13: int
    r14c14: int
    r14c15: int
    r14c16: int
    r14c17: int
    r14c18: int
    r14c19: int
    r15c0: int
    r15c1: int
    r15c2: int
    r15c3: int
    r15c4: int
    r15c5: int
    r15c6: int
    r15c7: int
    r15c8: int
    r15c9: int
    r15c10: int
    r15c11: int
    r15c12: int
    r15c13: int
    r15c14: int
    r15c15: int
    r15c16: int
    r15c17: int
    r15c18: int
    r15c19: int
    r16c0: int
    r16c1: int
    r16c2: int
    r16c3: int
    r16c4: int
    r16c5: int
    r16c6: int
    r16c7: int
    r16c8: int
    r16c9: int
    r16c10: int
    r16c11: int
    r16c12: int
    r16c13: int
    r16c14: int
    r16c15: int
    r16c16: int
    r16c17: int
    r16c18: int
    r16c19: int
    r17c0: int
    r17c1: int
    r17c2: int
    r17c3: int
    r17c4: int
    r17c5: int
    r17c6: int
    r17c7: int
    r17c8: int
    r17c9: int
    r17c10: int
    r17c11: int
    r17c12: int
    r17c13: int
    r17c14: int
    r17c15: int
    r17c16: int
    r17c17: int
    r17c18: int
    r17c19: int
    r18c0: int
    r18c1: int
    r18c2: int
    r18c3: int
    r18c4: int
    r18c5: int
    r18c6: int
    r18c7: int
    r18c8: int
    r18c9: int
    r18c10: int
    r18c11: int
    r18c12: int
    r18c13: int
    r18c14: int
    r18c15: int
    r18c16: int
    r18c17: int
    r18c18: int
    r18c19: int
    r19c0: int
    r19c1: int
    r19c2: int
    r19c3: int
    r19c4: int
    r19c5: int
    r19c6: int
    r19c7: int
    r19c8: int
    r19c9: int
    r19c10: int
    r19c11: int
    r19c12: int
    r19c13: int
    r19c14: int
    r19c15: int
    r19c16: int
    r19c17: int
    r19c18: int
    r19c19: int

    def __post_init__(self):
        for (name, field_type) in self.__annotations__.items():
            if not isinstance(self.__dict__[name], field_type):
                #print(f'{name} is of type {type(self.__dict__[name])} should be {field_type}')
                corrected = re.search('(float|int|str)', str(field_type))
                self.__dict__[name] = eval(f'{corrected.group(0)}({self.__dict__[name]})')

    def field_names_as_list(self):
        return [field.name for field in fields(RawFontRecord)]

    def print_row(self):
        fn=self.field_names_as_list()
        o_str=[str(eval(f'{self}.{i}')) for i in fn]
        print(','.join(o_str))
